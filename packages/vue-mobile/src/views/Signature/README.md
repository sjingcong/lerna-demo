# ç”µå­ç­¾åç»„ä»¶

åŸºäº Canvas çš„ç”µå­ç­¾åç»„ä»¶ï¼Œæ”¯æŒè½¨è¿¹è¯†åˆ«å’Œå¤šç§äº¤äº’åŠŸèƒ½ã€‚

## åŠŸèƒ½ç‰¹æ€§

### ğŸ¨ åŸºç¡€åŠŸèƒ½
- âœ… æ‰‹å†™ç­¾åæ”¯æŒï¼ˆè§¦æ‘¸å’Œé¼ æ ‡ï¼‰
- âœ… å®æ—¶ç»˜åˆ¶é¢„è§ˆ
- âœ… ç­¾åæ¸…é™¤åŠŸèƒ½
- âœ… ç­¾åä¿å­˜ä¸ºå›¾ç‰‡

### ğŸ¯ é«˜çº§åŠŸèƒ½
- âœ… **è½¨è¿¹è¯†åˆ«**ï¼šè®°å½•ç­¾åè¿‡ç¨‹ä¸­çš„æ‰€æœ‰è½¨è¿¹ç‚¹
- âœ… **ç¬”è§¦è®¾ç½®**ï¼šå¯è°ƒèŠ‚ç¬”è§¦ç²—ç»†ï¼ˆ1-10pxï¼‰
- âœ… **é¢œè‰²é€‰æ‹©**ï¼š12ç§é¢„è®¾é¢œè‰²å¯é€‰
- âœ… **ç­¾åé¢„è§ˆ**ï¼šå®æ—¶é¢„è§ˆç­¾åæ•ˆæœ
- âœ… **æ€§èƒ½ç»Ÿè®¡**ï¼šæ˜¾ç¤ºç­¾åæ—¶é•¿ã€é€Ÿåº¦ç­‰ä¿¡æ¯

### ğŸ“Š è½¨è¿¹åˆ†æ
- **è½¨è¿¹ç‚¹æ•°**ï¼šè®°å½•ç­¾åè¿‡ç¨‹ä¸­çš„æ‰€æœ‰åæ ‡ç‚¹
- **ç¬”ç”»æ•°é‡**ï¼šè‡ªåŠ¨è¯†åˆ«ç¬”ç”»æ•°é‡ï¼ˆåŸºäºæ—¶é—´é—´éš”ï¼‰
- **ç­¾åæ—¶é•¿**ï¼šä»å¼€å§‹åˆ°ç»“æŸçš„æ€»æ—¶é—´
- **å¹³å‡é€Ÿåº¦**ï¼šè®¡ç®—ç­¾åçš„å¹³å‡ç§»åŠ¨é€Ÿåº¦

## æŠ€æœ¯å®ç°

### æ ¸å¿ƒæŠ€æœ¯
- **Canvas 2D API**ï¼šç”¨äºç»˜åˆ¶å’Œæ¸²æŸ“
- **Touch Events**ï¼šæ”¯æŒç§»åŠ¨ç«¯è§¦æ‘¸æ“ä½œ
- **Mouse Events**ï¼šæ”¯æŒæ¡Œé¢ç«¯é¼ æ ‡æ“ä½œ
- **è½¨è¿¹ç®—æ³•**ï¼šå®æ—¶è®°å½•å’Œåˆ†æç­¾åè½¨è¿¹

### è½¨è¿¹è¯†åˆ«ç®—æ³•
```typescript
interface TrackPoint {
  x: number        // Xåæ ‡
  y: number        // Yåæ ‡  
  timestamp: number // æ—¶é—´æˆ³
  pressure?: number // å‹æ„Ÿï¼ˆé¢„ç•™ï¼‰
}
```

### æ•°æ®ç»“æ„
- å®æ—¶è®°å½•æ¯ä¸ªè½¨è¿¹ç‚¹çš„åæ ‡å’Œæ—¶é—´æˆ³
- é€šè¿‡æ—¶é—´é—´éš”ï¼ˆ>200msï¼‰è‡ªåŠ¨è¯†åˆ«ç¬”ç”»åˆ†å‰²
- è®¡ç®—æ€»è·ç¦»å’Œå¹³å‡é€Ÿåº¦è¿›è¡Œæ€§èƒ½åˆ†æ

## ä½¿ç”¨æ–¹æ³•

### è·¯ç”±é…ç½®
```typescript
// router/index.ts
{
  path: '/signature',
  name: 'Signature',
  component: () => import('@/views/Signature/index.vue')
}
```

### é¡µé¢è·³è½¬
```typescript
// è·³è½¬åˆ°ç­¾åé¡µé¢
this.$router.push('/signature')

// æˆ–è€…ä¼ é€’å‚æ•°
this.$router.push({
  name: 'Signature',
  query: {
    title: 'è®¢å•ç­¾å',
    orderId: '12345'
  }
})
```

### æ•°æ®è·å–
ç­¾åå®Œæˆåï¼Œä¼šç”ŸæˆåŒ…å«ä»¥ä¸‹ä¿¡æ¯çš„æ•°æ®ï¼š
```typescript
{
  image: string,        // Base64 æ ¼å¼çš„ç­¾åå›¾ç‰‡
  trackData: TrackPoint[], // å®Œæ•´çš„è½¨è¿¹æ•°æ®
  trackInfo: {         // è½¨è¿¹ç»Ÿè®¡ä¿¡æ¯
    points: number,    // è½¨è¿¹ç‚¹æ•°
    strokes: number,   // ç¬”ç”»æ•°
    duration: number,  // ç­¾åæ—¶é•¿(ms)
    avgSpeed: number   // å¹³å‡é€Ÿåº¦(px/ms)
  },
  timestamp: number    // ç­¾åæ—¶é—´æˆ³
}
```

## API æ¥å£

### Propsï¼ˆé¢„ç•™æ‰©å±•ï¼‰
```typescript
interface SignatureProps {
  title?: string       // é¡µé¢æ ‡é¢˜
  readonly?: boolean   // åªè¯»æ¨¡å¼
  maxWidth?: number    // æœ€å¤§ç”»å¸ƒå®½åº¦
  maxHeight?: number   // æœ€å¤§ç”»å¸ƒé«˜åº¦
  strokeColor?: string // é»˜è®¤ç¬”è§¦é¢œè‰²
  strokeWidth?: number // é»˜è®¤ç¬”è§¦ç²—ç»†
}
```

### Eventsï¼ˆé¢„ç•™æ‰©å±•ï¼‰
```typescript
// ç­¾åå®Œæˆäº‹ä»¶
@signature-complete="handleSignature"

// ç­¾åæ¸…é™¤äº‹ä»¶  
@signature-clear="handleClear"

// è½¨è¿¹æ›´æ–°äº‹ä»¶
@track-update="handleTrackUpdate"
```

## å…¼å®¹æ€§

- âœ… iOS Safari 12+
- âœ… Android Chrome 80+
- âœ… å¾®ä¿¡å†…ç½®æµè§ˆå™¨
- âœ… æ”¯ä»˜å®å†…ç½®æµè§ˆå™¨
- âœ… ç°ä»£æ¡Œé¢æµè§ˆå™¨

## æ€§èƒ½ä¼˜åŒ–

1. **Canvas ä¼˜åŒ–**
   - ä½¿ç”¨ `devicePixelRatio` é€‚é…é«˜åˆ†è¾¨ç‡å±å¹•
   - åˆç†è®¾ç½®ç”»å¸ƒå°ºå¯¸é¿å…è¿‡åº¦ç»˜åˆ¶

2. **äº‹ä»¶ä¼˜åŒ–**
   - ä½¿ç”¨ `touch-action: none` ç¦ç”¨é»˜è®¤æ‰‹åŠ¿
   - åˆç†èŠ‚æµè½¨è¿¹ç‚¹è®°å½•é¢‘ç‡

3. **å†…å­˜ä¼˜åŒ–**
   - åŠæ—¶æ¸…ç†è½¨è¿¹æ•°æ®
   - é¿å…å¤§é‡è½¨è¿¹ç‚¹ç§¯ç´¯

## æ‰©å±•åŠŸèƒ½

### å¯æ‰©å±•ç‰¹æ€§
- [ ] å‹æ„Ÿæ”¯æŒï¼ˆéœ€ç¡¬ä»¶æ”¯æŒï¼‰
- [ ] ç­¾åæ¨¡æ¿åŒ¹é…
- [ ] ç¬”è¿¹ç‰¹å¾æå–
- [ ] å¤šäººååŒç­¾å
- [ ] ç­¾ååŠ å¯†å­˜å‚¨
- [ ] ç¦»çº¿ç¼“å­˜æ”¯æŒ

### ä¸šåŠ¡é›†æˆ
- [ ] ä¸è®¢å•ç³»ç»Ÿé›†æˆ
- [ ] ä¸ç”¨æˆ·è®¤è¯é›†æˆ
- [ ] ä¸æ–‡æ¡£ç³»ç»Ÿé›†æˆ
- [ ] å®¡æ‰¹æµç¨‹é›†æˆ