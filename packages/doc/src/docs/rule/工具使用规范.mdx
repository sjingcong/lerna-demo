---
title: "å¼€æºåº“ä½¿ç”¨è§„èŒƒ"
description: "é¡¹ç›®ä¸­ç¬¬ä¸‰æ–¹åº“çš„ä½¿ç”¨è§„èŒƒè¡¨æ ¼"
icon: "mdi:package-variant"
version: "1.0.0"
tags: ["è§„èŒƒ", "ç¬¬ä¸‰æ–¹åº“", "ä¾èµ–ç®¡ç†"]
---

<div style={{
  position: 'fixed',
  top: '200px',
  left: '400px',
  backgroundColor: 'white',
  border: '1px solid #e1e5e9',
  borderRadius: '8px',
  padding: '12px',
  boxShadow: '0 2px 8px rgba(0,0,0,0.1)',
  zIndex: 1000,
  fontSize: '14px',
  maxWidth: '200px'
}}>
  <div style={{ fontWeight: 'bold', marginBottom: '8px', color: '#1890ff' }}>ğŸ“‹ å¿«é€Ÿå¯¼èˆª</div>
  <div style={{ display: 'flex', flexDirection: 'column', gap: '4px' }}>
    <a href="#è¿è§„å¤„ç†" style={{ color: '#666', textDecoration: 'none' }}>âš ï¸ è¿è§„å¤„ç†</a>
    <a href="#æ€»ä½“åŸåˆ™" style={{ color: '#666', textDecoration: 'none' }}>ğŸ“‹ æ€»ä½“åŸåˆ™</a>
    <a href="#åº“ä½¿ç”¨è§„èŒƒè¡¨" style={{ color: '#666', textDecoration: 'none' }}>ğŸ“¦ è§„èŒƒè¡¨</a>
    <a href="#è¯¦ç»†ä½¿ç”¨æ–‡æ¡£" style={{ color: '#666', textDecoration: 'none' }}>ğŸ“š è¯¦ç»†æ–‡æ¡£</a>
    <div style={{ paddingLeft: '12px', display: 'flex', flexDirection: 'column', gap: '2px' }}>
      <a href="#ant-design-vue" style={{ color: '#999', textDecoration: 'none', fontSize: '12px' }}>Ant Design Vue</a>
      <a href="#vant" style={{ color: '#999', textDecoration: 'none', fontSize: '12px' }}>Vant</a>
      <a href="#dayjs" style={{ color: '#999', textDecoration: 'none', fontSize: '12px' }}>Day.js</a>
      <a href="#pinia" style={{ color: '#999', textDecoration: 'none', fontSize: '12px' }}>Pinia</a>
      <a href="#bigjs" style={{ color: '#999', textDecoration: 'none', fontSize: '12px' }}>Big.js</a>
      <a href="#vue-scrollto" style={{ color: '#999', textDecoration: 'none', fontSize: '12px' }}>vue-scrollto</a>
      <a href="#lodash-es" style={{ color: '#999', textDecoration: 'none', fontSize: '12px' }}>lodash-es</a>
    </div>
    <a href="#sharedåŒ…ä½¿ç”¨" style={{ color: '#666', textDecoration: 'none' }}>ğŸ“¦ SharedåŒ…</a>
    <div style={{ paddingLeft: '12px', display: 'flex', flexDirection: 'column', gap: '2px' }}>
      <a href="#useImagePreload" style={{ color: '#999', textDecoration: 'none', fontSize: '12px' }}>useImagePreload</a>
      <a href="#usePreload" style={{ color: '#999', textDecoration: 'none', fontSize: '12px' }}>usePreload</a>
      <a href="#webVitals" style={{ color: '#999', textDecoration: 'none', fontSize: '12px' }}>webVitals</a>
    </div>
    <a href="#è§„èŒƒæ›´æ–°" style={{ color: '#666', textDecoration: 'none' }}>ğŸ“ è§„èŒƒæ›´æ–°</a>
  </div>
</div>

# å¼€æºåº“ä½¿ç”¨è§„èŒƒ

## <span id="è¿è§„å¤„ç†">âš ï¸ è¿è§„å¤„ç†</span>

â— **ä»£ç å®¡æŸ¥**: æ‰€æœ‰è¿åæœ¬è§„èŒƒçš„ä»£ç å°†åœ¨Code Reviewé˜¶æ®µè¢«æ‹’ç»
â— **è‡ªåŠ¨æ£€æµ‹**: é…ç½®ESLintè§„åˆ™æ£€æµ‹ç¦ç”¨åº“çš„ä½¿ç”¨
â— **æ–‡æ¡£æ›´æ–°**: æœ¬è§„èŒƒä¼šæ ¹æ®é¡¹ç›®å‘å±•æŒç»­æ›´æ–°ï¼Œè¯·åŠæ—¶å…³æ³¨
---
## <span id="æ€»ä½“åŸåˆ™">ğŸ“‹ æ€»ä½“åŸåˆ™</span>

â— **ç»Ÿä¸€æ€§åŸåˆ™**: åŒä¸€åŠŸèƒ½åªèƒ½ä½¿ç”¨ä¸€ä¸ªæŒ‡å®šçš„åº“ï¼Œä¸å…è®¸æ··ç”¨  
â— **è½»é‡åŒ–åŸåˆ™**: ä¼˜å…ˆé€‰æ‹©ä½“ç§¯å°ã€æ€§èƒ½å¥½çš„åº“  
â— **ç»´æŠ¤æ€§åŸåˆ™**: é€‰æ‹©æ´»è·ƒç»´æŠ¤ã€ç¤¾åŒºæ”¯æŒå¥½çš„åº“  
â— **ç±»å‹å®‰å…¨**: ä¼˜å…ˆé€‰æ‹©æœ‰å®Œæ•´TypeScriptæ”¯æŒçš„åº“

---
## <span id="åº“ä½¿ç”¨è§„èŒƒè¡¨">ğŸ“¦ åº“ä½¿ç”¨è§„èŒƒè¡¨</span>

| åŠŸèƒ½åˆ†ç±» | âœ… å¿…é¡»ä½¿ç”¨ | å¼•ç”¨æ–¹å¼ | âŒ ç¦æ­¢ä½¿ç”¨ | ç¦ç”¨åŸå›  |
|---------|------------|----------|------------|----------|
| **UIç»„ä»¶(PC)** | [Ant Design Vue](#ant-design-vue) | `<a-button>` (è‡ªåŠ¨å¯¼å…¥ï¼Œæ— éœ€æ‰‹åŠ¨import) | | |
| **UIç»„ä»¶(ç§»åŠ¨)** | [Vant](#vant) | `<van-button>` (è‡ªåŠ¨å¯¼å…¥ï¼Œæ— éœ€æ‰‹åŠ¨import) | | |
| **æ—¥æœŸæ—¶é—´** | [Day.js](#dayjs) | `import dayjs from 'dayjs'` | Moment.js | ä½“ç§¯è¿‡å¤§ï¼Œå·²åœæ­¢ç»´æŠ¤ |
| | | | Date-fns | ä¸é¡¹ç›®æŠ€æœ¯æ ˆä¸ç¬¦ |
| | | | åŸç”ŸDateå¯¹è±¡ | å¤æ‚æ“ä½œä¸ä¾¿ |
| **çŠ¶æ€ç®¡ç†** | [Pinia](#pinia) | `import { defineStore } from 'pinia'` | Vuex | å·²è¢«Piniaæ›¿ä»£ |
| | | | Redux | ä¸é€‚ç”¨äºVueç”Ÿæ€ |
| **æ•°å€¼è®¡ç®—** | [Big.js](#bigjs) | `import Big from 'big.js'` | åŸç”ŸJSè¿ç®— | æµ®ç‚¹æ•°ç²¾åº¦é—®é¢˜ |
| | | | Decimal.js | åŠŸèƒ½è¿‡äºå¤æ‚ |
| | | | Math.js | ä½“ç§¯è¿‡å¤§ |
| **æ»šåŠ¨äº¤äº’** | [vue-scrollto](#vue-scrollto) | `import { scrollTo } from 'vue-scrollto'` | åŸç”ŸscrollIntoView | åŠŸèƒ½æœ‰é™ |
| | | | AOS | éæ»šåŠ¨ä¸“ç”¨åº“ |
| **å·¥å…·å‡½æ•°** | [lodash-es](#lodash-es) | `import { debounce } from 'lodash-es'` | Lodash | ä½¿ç”¨lodash-esæ›¿ä»£ |
| | | | Underscore.js | åŠŸèƒ½é‡å¤ |
| | | | Ramda | ç¼–ç¨‹é£æ ¼ä¸ç¬¦ |
| **å›¾ç‰‡é¢„åŠ è½½** | [useImagePreload](#useImagePreload) | `import { useImagePreload } from '@giom/shared/composables/useImagePreload'` | æ‰‹åŠ¨ç¼–å†™é¢„åŠ è½½ | åŠŸèƒ½ä¸å®Œæ•´ |
| **æ¨¡å—é¢„åŠ è½½** | [usePreload](#usePreload) | `import { usePreload } from '@giom/shared/composables/usePreload'` | æ‰‹åŠ¨ç¼–å†™é¢„åŠ è½½ | æ€§èƒ½ä¸ä½³ |
| **æ€§èƒ½ç›‘æ§** | [webVitals](#webVitals) | `import '@giom/shared/performance/webVitals'` | æ‰‹åŠ¨ç›‘æ§ | æ•°æ®ä¸å‡†ç¡® |

---
### <span id="ant-design-vue">Ant Design Vue</span>

PCç«¯UIç»„ä»¶åº“ï¼Œæä¾›ä¸°å¯Œçš„ä¼ä¸šçº§ç»„ä»¶ã€‚

```vue
<template>
  <!-- âš ï¸ é‡è¦ï¼šç›´æ¥ä½¿ç”¨ç»„ä»¶ï¼Œå®Œå…¨æ— éœ€æ‰‹åŠ¨å¯¼å…¥ï¼ -->
  <a-button type="primary">æŒ‰é’®</a-button>
  <a-table :columns="columns" :data-source="data" />
  <a-form>
    <a-form-item>
      <a-input placeholder="è¯·è¾“å…¥" />
    </a-form-item>
  </a-form>
</template>

<script setup lang="ts">
// âœ… ç”±äºé…ç½®äº†AntDesignVueResolverï¼Œç»„ä»¶ä¼šè‡ªåŠ¨æŒ‰éœ€å¯¼å…¥
// âŒ ç¦æ­¢æ‰‹åŠ¨importï¼šimport { Button, Table } from 'ant-design-vue'
// âŒ ç¦æ­¢å…¨å±€æ³¨å†Œï¼šapp.use(Antd)
const columns = [/* è¡¨æ ¼åˆ—é…ç½® */]
const data = [/* è¡¨æ ¼æ•°æ® */]
</script>
```

### <span id="vant">Vant</span>

ç§»åŠ¨ç«¯UIç»„ä»¶åº“ï¼Œè½»é‡ä¸”åŠŸèƒ½å®Œæ•´ã€‚

```vue
<template>
  <!-- âš ï¸ é‡è¦ï¼šç›´æ¥ä½¿ç”¨ç»„ä»¶ï¼Œå®Œå…¨æ— éœ€æ‰‹åŠ¨å¯¼å…¥ï¼ -->
  <van-button type="primary">æŒ‰é’®</van-button>
  <van-cell title="å•å…ƒæ ¼" value="å†…å®¹" />
  <van-form>
    <van-field
      v-model="value"
      name="ç”¨æˆ·å"
      label="ç”¨æˆ·å"
      placeholder="ç”¨æˆ·å"
    />
  </van-form>
</template>

<script setup lang="ts">
// âœ… ç”±äºé…ç½®äº†VantResolverï¼Œç»„ä»¶ä¼šè‡ªåŠ¨æŒ‰éœ€å¯¼å…¥
// âŒ ç¦æ­¢æ‰‹åŠ¨importï¼šimport { Button, Cell } from 'vant'
// âŒ ç¦æ­¢å…¨å±€æ³¨å†Œï¼šapp.use(Vant)
import { ref } from 'vue'
const value = ref('')
</script>
```
## <span id="è¯¦ç»†ä½¿ç”¨æ–‡æ¡£">ğŸ“š è¯¦ç»†ä½¿ç”¨æ–‡æ¡£</span>

### <span id="dayjs">Day.js</span>

è½»é‡çº§æ—¥æœŸå¤„ç†åº“ï¼ŒMoment.jsçš„ç°ä»£æ›¿ä»£å“ã€‚

```typescript
import dayjs from 'dayjs'
import 'dayjs/locale/zh-cn'
import customParseFormat from 'dayjs/plugin/customParseFormat'
import relativeTime from 'dayjs/plugin/relativeTime'

// æ‰©å±•æ’ä»¶
dayjs.extend(customParseFormat)
dayjs.extend(relativeTime)
dayjs.locale('zh-cn')

// åŸºæœ¬ä½¿ç”¨
const now = dayjs()
const formatted = now.format('YYYY-MM-DD HH:mm:ss')
const relative = now.fromNow()
```

### <span id="pinia">Pinia</span>

Vue 3 å®˜æ–¹æ¨èçš„çŠ¶æ€ç®¡ç†åº“ï¼Œæ›¿ä»£Vuexã€‚

```typescript
import { defineStore } from 'pinia'
import { ref, computed } from 'vue'

// ç»„åˆå¼APIé£æ ¼
export const useUserStore = defineStore('user', () => {
  const token = ref<string>('')
  const userInfo = ref<UserInfo | null>(null)
  
  const isLoggedIn = computed(() => !!token.value)
  
  const setToken = (newToken: string) => {
    token.value = newToken
  }
  
  return { token, userInfo, isLoggedIn, setToken }
})
```

### <span id="bigjs">Big.js</span>

ç²¾ç¡®çš„åè¿›åˆ¶è¿ç®—åº“ï¼Œè§£å†³JavaScriptæµ®ç‚¹æ•°ç²¾åº¦é—®é¢˜ã€‚

```typescript
import Big from 'big.js'

// ç²¾ç¡®è®¡ç®—
const result = new Big('0.1').plus('0.2') // 0.3
const price = new Big('99.99').times('1.08') // 107.9892
const percentage = new Big('50').div('100') // 0.5

// æ ¼å¼åŒ–è¾“å‡º
const formatted = result.toFixed(2) // "0.30"
```

### <span id="vue-scrollto">vue-scrollto</span>

å¹³æ»‘æ»šåŠ¨åº“ï¼Œæä¾›ä¸°å¯Œçš„æ»šåŠ¨åŠ¨ç”»æ•ˆæœã€‚

```typescript
import VueScrollTo from 'vue-scrollto'

// å…¨å±€æ³¨å†Œ
app.use(VueScrollTo)

// ä½¿ç”¨
this.$scrollTo('#element', 800, { easing: 'ease-in-out' })

// æˆ–ç›´æ¥è°ƒç”¨
import { scrollTo } from 'vue-scrollto'
scrollTo('#element', 800)
```

### <span id="lodash-es">lodash-es</span>

å·¥å…·å‡½æ•°åº“ï¼Œæ”¯æŒtree-shakingçš„ESæ¨¡å—ç‰ˆæœ¬ã€‚

```typescript
// æŒ‰éœ€å¼•å…¥
import { debounce, throttle, cloneDeep } from 'lodash-es'

// ä½¿ç”¨
const debouncedFn = debounce(handleInput, 300)
const deepCopy = cloneDeep(originalObject)
const throttledFn = throttle(handleScroll, 100)
```

### <span id="useImagePreload">useImagePreload</span>

å›¾ç‰‡é¢„åŠ è½½ç»„åˆå¼å‡½æ•°ï¼Œæä¾›æ‰¹é‡å›¾ç‰‡é¢„åŠ è½½åŠŸèƒ½ã€‚

```typescript
import { useImagePreload } from '@giom/shared/composables/useImagePreload'

// åŸºæœ¬ä½¿ç”¨
const { preloadImages, isLoading, loadedCount, totalCount } = useImagePreload()

// é¢„åŠ è½½å›¾ç‰‡åˆ—è¡¨
const imageUrls = [
  '/images/banner1.jpg',
  '/images/banner2.jpg',
  '/images/banner3.jpg'
]

// å¼€å§‹é¢„åŠ è½½
preloadImages(imageUrls).then(() => {
  console.log('æ‰€æœ‰å›¾ç‰‡é¢„åŠ è½½å®Œæˆ')
})

// ç›‘å¬åŠ è½½è¿›åº¦
watchEffect(() => {
  console.log(`åŠ è½½è¿›åº¦: ${loadedCount.value}/${totalCount.value}`)
})
```

### <span id="usePreload">usePreload</span>

æ¨¡å—é¢„åŠ è½½ç»„åˆå¼å‡½æ•°ï¼Œæä¾›è·¯ç”±å’Œç»„ä»¶çš„é¢„åŠ è½½åŠŸèƒ½ã€‚

```typescript
import { usePreload } from '@giom/shared/composables/usePreload'

// åŸºæœ¬ä½¿ç”¨
const { preloadModules, isPreloading } = usePreload()

// å®šä¹‰é¢„åŠ è½½æ¨¡å—
const modules = [
  {
    name: 'UserProfile',
    importer: () => import('@/views/UserProfile.vue'),
    delay: 1000 // å»¶è¿Ÿ1ç§’åŠ è½½
  },
  {
    name: 'Dashboard',
    importer: () => import('@/views/Dashboard.vue')
  }
]

// å¼€å§‹é¢„åŠ è½½
preloadModules(modules)

// ç›‘å¬é¢„åŠ è½½çŠ¶æ€
watchEffect(() => {
  if (isPreloading.value) {
    console.log('æ­£åœ¨é¢„åŠ è½½æ¨¡å—...')
  }
})
```

### <span id="webVitals">webVitals</span>

 Web Vitalsæ€§èƒ½ç›‘æ§å·¥å…·ï¼Œè‡ªåŠ¨æ”¶é›†æ ¸å¿ƒæ€§èƒ½æŒ‡æ ‡ã€‚

```typescript
// ç›´æ¥å¼•å…¥å³å¯è‡ªåŠ¨å¼€å§‹ç›‘æ§
import '@giom/shared/performance/webVitals'

// ç›‘æ§æŒ‡æ ‡åŒ…æ‹¬ï¼š
// - CLS (Cumulative Layout Shift) - ç´¯ç§¯å¸ƒå±€åç§»
// - FID (First Input Delay) - é¦–æ¬¡è¾“å…¥å»¶è¿Ÿ
// - FCP (First Contentful Paint) - é¦–æ¬¡å†…å®¹ç»˜åˆ¶
// - LCP (Largest Contentful Paint) - æœ€å¤§å†…å®¹ç»˜åˆ¶
// - TTFB (Time to First Byte) - é¦–å­—èŠ‚æ—¶é—´

// æ€§èƒ½æ•°æ®ä¼šè‡ªåŠ¨ä¸ŠæŠ¥åˆ°æ§åˆ¶å°
// ç”Ÿäº§ç¯å¢ƒå¯é…ç½®ä¸ŠæŠ¥åˆ°ç›‘æ§å¹³å°
```

### <span id="sharedåŒ…ä½¿ç”¨">@giom/shared å…±äº«åŒ…è§„èŒƒ</span>

é¡¹ç›®çº§åˆ«çš„å…±äº«ä»£ç åŒ…ï¼Œâ— **åªèƒ½å­˜æ”¾å¤šé¡¹ç›®å…±äº«çš„å†…å®¹**ã€‚

#### ğŸ“ åŒ…ç»“æ„
```
packages/shared/
â”œâ”€â”€ composables/              # ç»„åˆå¼å‡½æ•°
â”‚   â”œâ”€â”€ useImagePreload.ts   # å›¾ç‰‡é¢„åŠ è½½Hook
â”‚   â””â”€â”€ usePreload.ts        # æ¨¡å—é¢„åŠ è½½Hook
â”œâ”€â”€ performance/              # æ€§èƒ½ç›‘æ§
â”‚   â””â”€â”€ webVitals.ts         # Web Vitalsæ€§èƒ½æŒ‡æ ‡
â””â”€â”€ tools/                    # å·¥å…·å‡½æ•°ï¼ˆå¾…æ‰©å±•ï¼‰
```

#### âœ… æ­£ç¡®å¼•ç”¨æ–¹å¼
```typescript
// âœ… æ¨èï¼šä½¿ç”¨å®Œæ•´è·¯å¾„å¼•ç”¨
import { useImagePreload } from '@giom/shared/composables/useImagePreload'
import { usePreload } from '@giom/shared/composables/usePreload'
import '@giom/shared/performance/webVitals'
```

#### âŒ ç¦æ­¢çš„å¼•ç”¨æ–¹å¼
```typescript
// âŒ ç¦æ­¢ï¼šç›´æ¥å¼•ç”¨åŒ…å
import { usePreload } from '@giom/shared'

// âŒ ç¦æ­¢ï¼šä½¿ç”¨ç›¸å¯¹è·¯å¾„
import { usePreload } from '../../../shared/composables/usePreload'
```

#### ğŸ¯ æ·»åŠ å†…å®¹çš„å®¡æ ¸æ ‡å‡†

**å¿…é¡»ç¡®è®¤çš„4ä¸ªæ¡ä»¶**ï¼š
1. **å¤šé¡¹ç›®éœ€æ±‚**: æ˜¯å¦åœ¨è‡³å°‘2ä¸ªé¡¹ç›®ä¸­éƒ½éœ€è¦ä½¿ç”¨ï¼Ÿ
2. **é€šç”¨æ€§**: æ˜¯å¦å…·æœ‰è¶³å¤Ÿçš„é€šç”¨æ€§ï¼Œä¸åŒ…å«ç‰¹å®šä¸šåŠ¡é€»è¾‘ï¼Ÿ
3. **ç¨³å®šæ€§**: APIæ˜¯å¦ç¨³å®šï¼Œä¸ä¼šé¢‘ç¹å˜æ›´ï¼Ÿ
4. **ç»´æŠ¤æ€§**: æ˜¯å¦æœ‰æ˜ç¡®çš„ç»´æŠ¤è´£ä»»äººï¼Ÿ

#### âœ… å¯ä»¥æ”¾å…¥sharedçš„å†…å®¹
```typescript
// âœ… é€šç”¨å·¥å…·å‡½æ•°
export function debounce(fn: Function, delay: number): Function

// âœ… é€šç”¨ç±»å‹å®šä¹‰
export interface ApiResponse<T> {
  code: number
  data: T
  message: string
}

// âœ… é€šç”¨Hook
export function useLocalStorage(key: string)

// âœ… æ€§èƒ½ç›‘æ§å·¥å…·
export function trackPageView(page: string)
```

#### âŒ ä¸èƒ½æ”¾å…¥sharedçš„å†…å®¹
```typescript
// âŒ ä¸šåŠ¡ç‰¹å®šé€»è¾‘
export function calculateShippingFee(order: Order): number

// âŒ é¡¹ç›®ç‰¹å®šé…ç½®
export const API_ENDPOINTS = {
  user: '/api/user',
  order: '/api/order'
}

// âŒ å•é¡¹ç›®ä½¿ç”¨çš„ç»„ä»¶
export function useOrderManagement()

// âŒ ç‰¹å®šUIæ¡†æ¶çš„ç»„ä»¶
export function useAntdForm()
```

**æ ¸å¿ƒåŸåˆ™**: â— **åªå­˜æ”¾é¡¹ç›®çº§åˆ«å…±äº«çš„å†…å®¹**

---

## <span id="è§„èŒƒæ›´æ–°">ğŸ“ è§„èŒƒæ›´æ–°</span>

å¦‚éœ€æ·»åŠ æ–°çš„åº“æˆ–ä¿®æ”¹ç°æœ‰è§„èŒƒï¼Œè¯·ï¼š

1. æäº¤æŠ€æœ¯æ–¹æ¡ˆè¯„å®¡
2. å›¢é˜Ÿè®¨è®ºç¡®è®¤
3. æ›´æ–°æœ¬æ–‡æ¡£
4. é€šçŸ¥æ‰€æœ‰å¼€å‘äººå‘˜

**æœ€åæ›´æ–°**: 2024å¹´12æœˆ
**ç»´æŠ¤äººå‘˜**: å‰ç«¯å›¢é˜Ÿ